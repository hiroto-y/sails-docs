# アダプター
### ステータス

##### 安定度: [3](http://nodejs.org/api/documentation.html#documentation_stability_index) - ステーブル

APIは十分に検証済みですが小規模な変更のためにコードを治す必要があります。後方互換性は保証されています。

### アダプターとは何でしょうか

アダプタはある機能を実装することを意図して**インターフェース**を露出するものです。これによって複数のモデル、開発者、アプリケーション、さらには会社の間でもアプリケーションコードをメンテナンス可能に、効率よく、信頼性の高いものにすることが出来ます。アダプタはデータベースやオープンAPI、内部や商用のWebサービス、更にはハードウエアを統合するのに便利に使えます。


### アダプタを使ってどんなことが出来ますか。

アダプタはモデルに意味をもたせたCRUDメソッドを提供することに主眼が置かれています。CRUDはCreate、Read、Update、Deleteの略です。SailsとWaterlineではこれらのメソッドを`create()`、`find()`、`update()`そして `destroy()`と呼んでいます。

例えば`MySQLAdapter`内部的には指定されたテーブル名とコネクション情報を使って`INSERT ...`SQLクエリを実行するというように`create()`メソッドを実装しています。

実務的にはアダプタは好きな様になんでもすることが出来ます。つまり、あなたが作った全てのメソッドは接続オブジェクトとそれを使うモデルから呼び出すことが出来ます。


##### クラスメソッド
以下の`class methods`はモデルそのもので利用可能な静的またはコレクション指向なファンクションです。（例えば`User.create()`や`Menu.update()`のようなものです）モデルに（アダプタ自身が持っているものを超えるような）カスタムメソッドを追加するにはモデルオブジェクトのトップレベルにkey/functionのペアとして追加してください。

##### インスタンスメソッド
一方で`instance methods`（オブジェクトソッドやモデルメソッドとも呼ばれます）はモデルのそれぞれの結果に対して実行可能なメソッドです。（例:`User.findOne(7).done(function (err, user) { user.someInstanceMethod(); });`）モデルに（アダプタ自身が持っているものを超えるような）インスタンスメソッドを追加するにはモデル定義の`attributes`オブジェクトににkey/functionのペアとして追加してください。

##### DDLと自動マイグレーション
`DDL`とはdata-definition languageの略で、スキーマ指向のデータベースでおなじみのものです。Sailsでは設定だけで簡単に使える自動マイグレーションが用意されています。多くのSQLデータベース向けのアダプタで`alter()`が対応されていますので自動スキーママイグレーションも利用可能です。あなたがアダプタの中で`alter()`メソッドを書いた場合同様の振る舞いを起こすことが出来ます。この機能は`migrate`プロパティを使って設定可能で、`safe`（つまりスキーマに触れない）、 `drop`（つまりSailsを起動するたびにテーブルを再生成する）、`alter`（デフォルト。現在のスキーマをデータベースとマージする）をセットすることが出来ます。


<docmeta name="uniqueID" value="Adapters83669">
<docmeta name="displayName" value="Adapters">
<docmeta name="stabilityIndex" value="3">
