# デフォルトのレスポンス

以下のレスポンスは`/api/responses`以下にある全ての新しいSailsアプリケーションにバインドされています。それぞれのレスポンスはJSONを希望しているクライアントにはHTTPステータスコードと`status`、関連するエラーの情報を含んだキーからなる標準化されたJSONオブジェクトを返します。

#### res.serverError(errors)

このレスポンスは`Error`オブジェクトを適切に可読化して`errors`アレイに入れることで標準化します。`errors`は一つまたは複数の文字列か`Error`オブジェクトです。その後、すべてのエラーをSailsのロガー（通常はコンソールです）に記録し、クライアントがHTTPを要求していれば`views/500.*`ファイルでレスポンスを返し、クライアントがJSONを要求していればJSONオブジェクトで返します。開発モードではエラーのリストがレスポンスに含まれす。プロダクションモードでは実際のエラーは抑制されます。

#### res.badRequest(validationErrors, redirectTo)

JSONを要求するリクエストに対しては`validationErrors`として400ステータスコードとともに関連するデータを返します。

トラディショナルな（AJAXでない）Webフォームに関してはミドルウエアは以下の流れのユーザが不正なデータを送った際に行われるベストプラクティスを実行します:

 - 初めに1回限り使い捨てのflash変数がセットされますが、この中にはおそらくセマンティックなバリデーションエラーの配列が入っています。
 - それからユーザは`redirectTo`（つまりその不正なリクエストの発生元）にリダイレクトバックされます。
 - ここでコントローラとビュー（あるいはコントローラかビュー）は `errors`のflash変数を使ってエラーメッセージを表示したりフォームをハイライトしたりします。


#### res.notFound()

リクエスト元がJSONを要求している場合、単純に404ステータスコードと`{status: 404}`を返します。

そうでない場合は、`myApp/views/404.*`のパスのビューが呼び出されます。ビューが見つからない場合は単にJSONレスポンスを返します。

#### res.forbidden(message)

リクエスト元がJSONを要求している場合、単純に403ステータスコードと`message`の中身を返します。

そうでない場合は、`myApp/views/403.*`のパスのビューが呼び出されます。ビューが見つからない場合は単にJSONレスポンスを返します。


<docmeta name="displayName" value="Default Responses">
